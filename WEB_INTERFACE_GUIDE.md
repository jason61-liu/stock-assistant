# Web界面使用指南

## 🌐 访问Web界面

### 主要访问方式
- **主页**: http://localhost:8000
- **直接访问**: http://localhost:8000/web
- **静态文件**: http://localhost:8000/static/web_interface.html

### 界面概览
Web界面采用现代化设计，分为4个主要功能标签页：

| 标签页 | 功能 | 说明 |
|--------|------|------|
| 📈 **股票分析** | 核心分析功能 | 单股票、多股票、指数分析 |
| 📊 **指数成分股** | 成分股查询 | 查看各指数成分股信息 |
| 🔍 **股票搜索** | 搜索功能 | 按关键词搜索股票 |
| 🛠️ **工具功能** | 系统工具 | 缓存管理、数据导出等 |

---

## 🎯 核心功能使用

### 1. 股票/指数分析

#### 基础分析
```
输入框：000001
选项：✅ 自动打开图表
点击：开始分析
```

#### 批量分析
```
输入框：
000001
600519
000858

点击：批量分析
```

#### 指数分析
```
输入框：沪深300
或：CSI300
点击：开始分析
```

**支持的输入格式**：
- 单只股票：`000001`, `600519`
- 多只股票：`000001,600519,000858`
- 指数名称：`沪深300`, `中证100`, `中证200`, `中证500`
- 指数代码：`CSI300`, `SSE100`

#### 快速示例按钮
- **平安银行**: 点击"平安银行"按钮自动填入`000001`
- **贵州茅台**: 点击"贵州茅台"按钮自动填入`600519`
- **五粮液**: 点击"五粮液"按钮自动填入`000858`
- **沪深300**: 点击"沪深300"按钮自动填入`沪深300`
- **批量分析**: 点击"批量分析"按钮填入多个示例股票

### 2. 指数成分股查询

#### 查询步骤
1. **选择指数**：从中证100、中证200、沪深300、中证500中选择
2. **设置限制**：输入返回数量限制（默认50，最多500）
3. **生成报告**：勾选"生成HTML报告"创建可视化报告
4. **执行查询**：点击"查询成分股"

#### 结果展示
- **JSON数据**：成分股的详细信息
- **统计信息**：行业分布、市场分布等
- **可视化报告**：交互式HTML报告（如果勾选）

### 3. 股票搜索

#### 关键词搜索
```
搜索关键词：平安
选项：精确匹配（可选）
点击：搜索股票
```

#### 搜索技巧
- **按名称搜索**：`平安`, `银行`, `科技`, `茅台`
- **按代码搜索**：`000001`, `600519`
- **模糊搜索**：输入部分关键词即可

#### 快速搜索按钮
- **平安**：搜索包含"平安"的股票
- **银行**：搜索所有银行类股票
- **科技**：搜索科技公司股票
- **茅台**：搜索茅台相关股票

### 4. 股票资料查询

#### 基础信息查询
```
股票代码：000001
或从下拉菜单选择示例
点击：查询资料
```

**返回信息**：
- 股票代码和名称
- 股票数量统计
- 基本信息（不含详细技术指标）

---

## 🛠️ 工具功能

### 系统状态检查

#### 健康检查
- 点击"健康检查"按钮
- 查看服务运行状态
- 检查系统响应时间

#### 缓存管理
- **查看状态**：点击"缓存状态"查看缓存信息
- **清理缓存**：点击"清理缓存"清空所有缓存数据

### 技术指标查看

#### 支持的指标
- 点击"获取指标列表"
- 查看所有34个技术指标分类
- 了解指标计算方法和用途

#### 支持的指数
- 点击"支持的指数"
- 查看4个主要指数详细信息
- 了解指数成分和特点

### 数据导出

#### 导出格式
- **JSON**：结构化数据，适合程序处理
- **CSV**：表格数据，适合Excel分析
- **Excel**：完整数据包，包含图表

#### 导出步骤
1. 选择导出格式
2. 输入股票代码或指数
3. 点击"导出"按钮
4. 自动下载文件

---

## 📊 响应结果解读

### 分析结果结构
```json
{
  "success": true,
  "message": "分析完成",
  "data": {
    "stocks": {
      "000001": {
        "code": "000001",
        "name": "平安银行",
        "data_source": "mock",
        "company_info": {
          "company_full_name": "平安银行股份有限公司",
          "industry": "银行",
          "sector": "金融"
        },
        "time_windows": {
          "T-0": {
            "latest_indicators": {
              "price": 15.23,
              "change_pct": 2.15,
              "rsi": 65.4
            }
          }
        }
      }
    }
  },
  "chart_url": "/static/charts_xxx.html",
  "json_url": "/static/analysis_xxx.json"
}
```

### 关键字段说明

#### 基本信息
- `code`: 股票代码
- `name`: 股票名称
- `data_source`: 数据来源（akshare_primary, mock等）

#### 公司信息 ✨新增
- `company_full_name`: 公司全称
- `industry`: 所属行业
- `sector`: 所属板块
- `market`: 上市市场
- `inclusion_date`: 纳入日期
- `chairman`: 董事长
- `company_website`: 公司官网

#### 技术指标
- `price`: 当前价格
- `change_pct`: 涨跌幅
- `volume`: 成交量
- `rsi`: RSI指标
- `ma20`: 20日移动平均

#### 链接资源
- `chart_url`: HTML图表链接
- `json_url`: JSON数据链接
- `heatmap_url`: 热力图链接（指数模式）

---

## ⚡ 快捷操作

### 键盘快捷键
- **Tab**: 在表单字段间切换
- **Enter**: 提交当前表单
- **Esc**: 关闭弹窗或取消操作

### 批量操作技巧
1. **多股票分析**：用逗号分隔多个股票代码
2. **快速填入**：使用示例按钮快速填入常用股票
3. **批量清理**：点击"清空"按钮快速重置表单

### 结果操作
- **查看图表**：点击"查看图表"按钮在新窗口打开
- **查看数据**：点击"查看JSON"按钮查看原始数据
- **下载文件**：导出功能自动下载数据文件

---

## 🔧 故障排除

### 常见问题

#### 1. 页面加载失败
- **检查服务**：确保服务正在运行（http://localhost:8000）
- **检查文件**：确认web_interface.html文件存在
- **刷新页面**：按F5刷新浏览器

#### 2. API请求失败
- **查看日志**：检查服务器控制台错误信息
- **网络问题**：检查网络连接状态
- **数据源问题**：系统会自动切换到备用数据源

#### 3. 图表不显示
- **检查链接**：确认chart_url链接有效
- **等待加载**：图表可能需要几秒钟加载
- **刷新图表**：重新点击"查看图表"

#### 4. 搜索无结果
- **检查关键词**：确保搜索关键词正确
- **使用部分匹配**：尝试输入关键词的一部分
- **检查股票代码**：确认股票代码格式正确（6位数字）

### 性能优化

#### 提高响应速度
- **利用缓存**：相同查询6小时内使用缓存
- **批量操作**：使用批量分析减少请求次数
- **合理限制**：设置合适的数量限制

#### 减少等待时间
- **自动打开图表**：勾选"自动打开图表"选项
- **后台处理**：系统支持异步处理多个请求
- **本地缓存**：浏览器会缓存静态资源

---

## 📱 移动端适配

### 响应式设计
Web界面采用响应式设计，支持：
- **手机访问**：自动适配小屏幕
- **平板访问**：优化中等屏幕显示
- **桌面访问**：完整功能展示

### 移动端操作
- **触摸友好**：所有按钮和链接都适合触摸操作
- **滑动操作**：支持长页面滑动浏览
- **快速访问**：常用功能放在页面顶部

---

## 🎨 界面特性

### 视觉设计
- **现代化UI**：采用Bootstrap 5框架
- **渐变色彩**：使用渐变色增强视觉效果
- **图标支持**：Font Awesome图标库
- **动画效果**：平滑的过渡和悬停效果

### 用户体验
- **实时反馈**：操作后立即显示加载状态
- **错误提示**：友好的错误信息和建议
- **成功提示**：操作成功后的明确反馈
- **帮助信息**：每个功能都有使用说明

### 数据展示
- **JSON格式化**：代码高亮的JSON数据显示
- **表格展示**：结构化数据的表格显示
- **图表集成**：直接在页面中嵌入交互式图表
- **下载支持**：多种格式的数据导出

---

## 🚀 高级用法

### 组合分析
1. **多股票对比**：同时分析多只股票进行对比
2. **指数成分分析**：查看指数成分股的整体表现
3. **时间序列分析**：利用6个时间窗口进行趋势分析

### 数据挖掘
1. **行业分析**：搜索同一行业的多只股票
2. **技术指标筛选**：根据RSI、MACD等指标筛选股票
3. **风险评估**：利用风险指标评估投资风险

### 自动化工作流
1. **批量导出**：定期导出关注股票的数据
2. **监控设置**：定期检查重要股票的表现
3. **报告生成**：自动生成分析报告

---

## 📞 技术支持

### 获取帮助
- **在线文档**：查看完整的API文档
- **服务状态**：通过健康检查了解系统状态
- **错误日志**：查看服务器控制台获取详细错误信息

### 联系方式
- **技术问题**：检查服务器日志输出
- **功能建议**：通过GitHub Issues提交建议
- **使用反馈**：记录常见问题和使用体验

---

*Web界面版本: v1.0.0*
*最后更新: 2025-12-07*