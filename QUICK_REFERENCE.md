# Aè‚¡è¡Œæƒ…å¯è§†åŒ–æœåŠ¡ - å¿«é€Ÿå‚è€ƒæŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨æœåŠ¡
```bash
python main.py
```
æœåŠ¡åœ°å€: http://localhost:8000

### æ ¸å¿ƒAPIæ¥å£

| åŠŸèƒ½ | æ¥å£ | ç¤ºä¾‹ |
|------|------|------|
| **è‚¡ç¥¨åˆ†æ** | `GET /api/v1/stocks/{code}` | `/api/v1/stocks/000001` |
| **æŒ‡æ•°åˆ†æ** | `GET /api/v1/stocks/{index}` | `/api/v1/stocks/CSI300` |
| **æ‰¹é‡åˆ†æ** | `POST /api/v1/batch` | `{"inputs": ["000001", "600519"]}` |
| **æŒ‡æ•°æˆåˆ†è‚¡** | `GET /api/v1/indices/{index}/constituents` | `/api/v1/indices/CSI300/constituents` |
| **è‚¡ç¥¨æœç´¢** | `GET /api/v1/stocks/search/{keyword}` | `/api/v1/stocks/search/å¹³å®‰` |

---

## ğŸ“Š æ”¯æŒçš„è¾“å…¥æ ¼å¼

### è‚¡ç¥¨ä»£ç 
- **å•åªè‚¡ç¥¨**: `000001`, `600519`
- **å¤šåªè‚¡ç¥¨**: `000001,600519,000858`

### æŒ‡æ•°åç§°
- **ä¸Šè¯100**: `ä¸Šè¯100` æˆ– `SSE100`
- **ä¸­è¯300**: `ä¸­è¯300` æˆ– `CSI300`

---

## ğŸ¯ å¸¸ç”¨è¯·æ±‚ç¤ºä¾‹

### 1. åˆ†æå•åªè‚¡ç¥¨
```bash
curl "http://localhost:8000/api/v1/stocks/000001"
```

### 2. åˆ†æè´µå·èŒ…å°
```bash
curl "http://localhost:8000/api/v1/stocks/600519"
```

### 3. åˆ†ææ²ªæ·±300æŒ‡æ•°
```bash
curl "http://localhost:8000/api/v1/stocks/CSI300"
```

### 4. æ‰¹é‡åˆ†æå¤šåªè‚¡ç¥¨
```bash
curl -X POST "http://localhost:8000/api/v1/batch" \
  -H "Content-Type: application/json" \
  -d '{"inputs": ["000001", "600519", "000858"]}'
```

### 5. è·å–æ²ªæ·±300æˆåˆ†è‚¡
```bash
curl "http://localhost:8000/api/v1/indices/CSI300/constituents"
```

### 6. ç”Ÿæˆæˆåˆ†è‚¡HTMLæŠ¥å‘Š
```bash
curl "http://localhost:8000/api/v1/indices/CSI300/constituents?generate_html=true"
```

### 7. æœç´¢é“¶è¡Œè‚¡ç¥¨
```bash
curl "http://localhost:8000/api/v1/stocks/search/é“¶è¡Œ"
```

---

## ğŸ“ˆ å“åº”æ•°æ®ç»“æ„

### è‚¡ç¥¨åˆ†æå“åº”
```json
{
  "success": true,
  "data": {
    "stocks": {
      "000001": {
        "code": "000001",
        "name": "å¹³å®‰é“¶è¡Œ",
        "data_source": "mock",
        "company_info": {
          "company_full_name": "å¹³å®‰é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸",
          "industry": "é“¶è¡Œ",
          "sector": "é‡‘è",
          "market": "æ·±äº¤æ‰€"
        },
        "time_windows": {
          "T-0": {
            "latest_indicators": {
              "price": 15.23,
              "change_pct": 2.15,
              "rsi": 65.4
            }
          }
        }
      }
    }
  },
  "chart_url": "/static/charts_20251207_003440.html"
}
```

---

## ğŸ¢ å…¬å¸ä¿¡æ¯å­—æ®µ

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `company_full_name` | å…¬å¸å…¨ç§° | "å¹³å®‰é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸" |
| `industry` | æ‰€å±è¡Œä¸š | "é“¶è¡Œ" |
| `sector` | æ‰€å±æ¿å— | "é‡‘è" |
| `market` | ä¸Šå¸‚å¸‚åœº | "æ·±äº¤æ‰€" |
| `inclusion_date` | çº³å…¥æ—¥æœŸ | "2024-01-19" |
| `chairman` | è‘£äº‹é•¿ | "è°¢æ°¸æ—" |
| `company_website` | å…¬å¸ç½‘å€ | "http://bank.pingan.com" |
| `total_shares` | æ€»è‚¡æœ¬ | 1940591819804 |
| `registered_capital` | æ³¨å†Œèµ„æœ¬ | 1940591819804 |

---

## â° æ—¶é—´çª—å£

| ä»£ç  | èŒƒå›´ | ç”¨é€” |
|------|------|------|
| `T-0` | å½“æ—¥ | æœ€æ–°ä»·æ ¼ |
| `T-3` | è¿‘3æ—¥ | çŸ­æœŸè¶‹åŠ¿ |
| `T-7` | è¿‘7æ—¥ | å‘¨åˆ†æ |
| `T-30` | è¿‘30æ—¥ | æœˆåˆ†æ |
| `T-90` | è¿‘90æ—¥ | å­£åˆ†æ |
| `T-180` | è¿‘180æ—¥ | åŠå¹´åˆ†æ |

---

## ğŸ“Š æ•°æ®æºæ ‡è¯†

| æ ‡è¯† | è¯´æ˜ | å¯ä¿¡åº¦ |
|------|------|--------|
| `mock` | æ¨¡æ‹Ÿæ•°æ® | æ¼”ç¤ºç”¨ |
| `akshare_primary` | akShareä¸»è¦ | é«˜ |
| `sina` | æ–°æµªè´¢ç» | ä¸­ |
| `tencent` | è…¾è®¯è´¢ç» | ä¸­ |

---

## ğŸ› ï¸ å®ç”¨å·¥å…·æ¥å£

| åŠŸèƒ½ | æ¥å£ | ç”¨é€” |
|------|------|------|
| **å¥åº·æ£€æŸ¥** | `GET /health` | æ£€æŸ¥æœåŠ¡çŠ¶æ€ |
| **æ”¯æŒæŒ‡æ ‡** | `GET /indicators` | æŸ¥çœ‹æ‰€æœ‰æŠ€æœ¯æŒ‡æ ‡ |
| **ç¼“å­˜æ¸…ç†** | `GET /api/v1/cache/clear` | æ¸…ç©ºç¼“å­˜ |
| **æ”¯æŒæŒ‡æ•°** | `GET /api/v1/indices/supported` | æŸ¥çœ‹æ”¯æŒçš„æŒ‡æ•° |

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **è¿”å›500é”™è¯¯**: æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—ï¼Œé€šå¸¸æ˜¯ç½‘ç»œè¿æ¥é—®é¢˜
2. **æ•°æ®ä¸ºç©º**: ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®ç”¨äºæ¼”ç¤º
3. **ç¼“å­˜é—®é¢˜**: è®¿é—® `/api/v1/cache/clear` æ¸…ç†ç¼“å­˜

### æŸ¥çœ‹æ—¥å¿—
æœåŠ¡å™¨æ§åˆ¶å°ä¼šæ˜¾ç¤ºè¯¦ç»†çš„è¿è¡Œæ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š
- æ•°æ®æºåˆ‡æ¢è¿‡ç¨‹
- ç¼“å­˜ä½¿ç”¨æƒ…å†µ
- é”™è¯¯ä¿¡æ¯å’Œå»ºè®®

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### æ•°æ®éªŒè¯
- [ ] æ£€æŸ¥ `data_source` å­—æ®µç¡®è®¤æ•°æ®æ¥æº
- [ ] æŸ¥çœ‹ `company_info` éªŒè¯å…¬å¸ä¿¡æ¯å®Œæ•´æ€§
- [ ] ç¡®è®¤ `time_windows` åŒ…å«æ‰€éœ€æ—¶é—´èŒƒå›´
- [ ] æ£€æŸ¥ HTML æŠ¥å‘Šæ˜¯å¦æ­£å¸¸ç”Ÿæˆ

### æ€§èƒ½ä¼˜åŒ–
- [ ] åˆ©ç”¨ç¼“å­˜å‡å°‘é‡å¤è¯·æ±‚
- [ ] æ‰¹é‡åˆ†ææé«˜æ•ˆç‡
- [ ] åˆç†è®¾ç½®æ—¶é—´çª—å£èŒƒå›´

---

## ğŸ“ è·å–å¸®åŠ©

1. **åœ¨çº¿æ–‡æ¡£**: http://localhost:8000/docs
2. **å¥åº·æ£€æŸ¥**: http://localhost:8000/health
3. **æŸ¥çœ‹æ—¥å¿—**: è§‚å¯ŸæœåŠ¡å™¨æ§åˆ¶å°è¾“å‡º
4. **å®Œæ•´æ–‡æ¡£**: `API_DOCUMENTATION.md`

---

*å¿«é€Ÿå‚è€ƒ - ç‰ˆæœ¬ v1.0.0*